<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="/style.css">
</head>

<body>
    <div class="main-container">

    </div>
    <div class="todo__layout">
        <section class="todo">
            <div class="todo__header">
                <h1 class="todo__date">
                    <%= listTitle %>
                </h1>
            </div>
            <div class="todo__task">
                <% for(let i=0;i< newTask.length;i++){ %>
                    <div class="todo__task__content" id="task-<%= newTask[i]._id %>">
                        <div class="todo__task__inputBox">
                            <input type="checkbox" name="checkbox" class="input__checkbox" id="checkbox-<%= newTask[i]._id %>" <% if (newTask[i].completed) { %> checked <% } %>>
                            <label for="checkbox-<%= newTask[i]._id %>" class="input__label" id="label-<%= newTask[i]._id %>">
                                <%=newTask[i].name %>
                            </label>
                           
                        </div>
                        <div class="todo__task__button">

                          
                            <button class="todo__btn edit__btn" data-id="<%= newTask[i]._id %>" >
    
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512" class="icon icon__edit">
                                    <path
                                        d="M0 64C0 28.7 28.7 0 64 0H224V128c0 17.7 14.3 32 32 32H384V299.6l-94.7 94.7c-8.2 8.2-14 18.5-16.8 29.7l-15 60.1c-2.3 9.4-1.8 19 1.4 27.8H64c-35.3 0-64-28.7-64-64V64zm384 64H256V0L384 128zM549.8 235.7l14.4 14.4c15.6 15.6 15.6 40.9 0 56.6l-29.4 29.4-71-71 29.4-29.4c15.6-15.6 40.9-15.6 56.6 0zM311.9 417L441.1 287.8l71 71L382.9 487.9c-4.1 4.1-9.2 7-14.9 8.4l-60.1 15c-5.5 1.4-11.2-.2-15.2-4.2s-5.6-9.7-4.2-15.2l15-60.1c1.4-5.6 4.3-10.8 8.4-14.9z" />
                                </svg>
                            </button>

                            <button class="todo__btn delete__btn" data-id="<%= newTask[i]._id %>">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" class="icon icon__delete">
                                    <path
                                        d="M170.5 51.6L151.5 80h145l-19-28.4c-1.5-2.2-4-3.6-6.7-3.6H177.1c-2.7 0-5.2 1.3-6.7 3.6zm147-26.6L354.2 80H368h48 8c13.3 0 24 10.7 24 24s-10.7 24-24 24h-8V432c0 44.2-35.8 80-80 80H112c-44.2 0-80-35.8-80-80V128H24c-13.3 0-24-10.7-24-24S10.7 80 24 80h8H80 93.8l36.7-55.1C140.9 9.4 158.4 0 177.1 0h93.7c18.7 0 36.2 9.4 46.6 24.9zM80 128V432c0 17.7 14.3 32 32 32H336c17.7 0 32-14.3 32-32V128H80zm80 64V400c0 8.8-7.2 16-16 16s-16-7.2-16-16V192c0-8.8 7.2-16 16-16s16 7.2 16 16zm80 0V400c0 8.8-7.2 16-16 16s-16-7.2-16-16V192c0-8.8 7.2-16 16-16s16 7.2 16 16zm80 0V400c0 8.8-7.2 16-16 16s-16-7.2-16-16V192c0-8.8 7.2-16 16-16s16 7.2 16 16z" />
                                </svg>
                            </button>
                        </div>
                        <div class="input__edit" id="input-edit-<%= newTask[i]._id %>" >
                            <input type="text" class="input__edit__text input__label" id="edit-text<%= newTask[i]._id %>">
                            <button class="todo__btn input__edit__btn" id="save-btn-<%= newTask[i]._id %>" >
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" class="icon icon__save"><path d="M64 32C28.7 32 0 60.7 0 96V416c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V173.3c0-17-6.7-33.3-18.7-45.3L352 50.7C340 38.7 323.7 32 306.7 32H64zm0 96c0-17.7 14.3-32 32-32H288c17.7 0 32 14.3 32 32v64c0 17.7-14.3 32-32 32H96c-17.7 0-32-14.3-32-32V128zM224 288a64 64 0 1 1 0 128 64 64 0 1 1 0-128z"/></svg>
                            </button>
                        </div>
                    </div>

                    <% } %>
            </div>
            <!-- <input type="text" class="input-edit-text" id="input-edit<=%newTask[i]._id %>">
            <button class="todo__btn save__btn" id="edit-btn<=%newTask[i]._id">save</button> -->
            <form action="/api/v1/todo" method="post" class="todo__footer">
                <input type="text" class="todo__input" name="task" placeholder="Add task.....">
                <button type="submit" class="todo__btn" name="button" value="<%= listTitle %>">
                    <svg class="icon icon__add">
                        <use xlink:href="/img/sprite.svg#icon-add-outline"></use>
                    </svg>
                </button>
            </form>
        </section>
    </div>
    <!-- <% if ( errorMessage ) { %>
        <script>
          alert('<%= errorMessage %>'); 
        //   location.reload();
        </script>
      <% } %> -->
    <script src="/script/main.js"></script>
    <script src="/script/update.js"></script>
    <script src="/script/delete.js"></script>
    <script src="/script/completeTask.js"></script>
</body>

</html>